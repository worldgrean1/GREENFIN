"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[4974],{64974:(e,t,s)=>{s.d(t,{A:()=>d});var r=s(95155),n=s(12115),a=s(74872),o=s(34530);function l(e){let{state:t,inverterOn:s,scale:l,onInverterChange:i,onCycleMode:d,onCycleDisplayOption:c}=e,x=(e,t)=>e.toString().padStart(t,"0"),{booting:h,setBooting:p}=(0,o.g)(),[u,m]=(0,n.useState)(!1),f=()=>{{let e=window.innerWidth;if(e<768)return{width:"280px",height:"420px",scale:.7,isMobile:!0};if(e<1024)return{width:"320px",height:"472px",scale:.8,isMobile:!1}}return{width:"400px",height:"590px",scale:1,isMobile:!1}},[b,g]=(0,n.useState)(f());return(0,n.useEffect)(()=>{let e=()=>{g(f())};return window.addEventListener("resize",e),()=>window.removeEventListener("resize",e)},[]),(0,r.jsxs)(a.P.div,{className:"relative mx-auto",onMouseEnter:()=>m(!0),onMouseLeave:()=>m(!1),style:{width:b.width,height:b.height,background:"linear-gradient(145deg, rgb(217 218 222), rgb(150 156 167))",borderRadius:"15px",border:"1px solid rgb(107 112 131)",transformStyle:"preserve-3d",perspective:"1000px"},animate:{boxShadow:s?"0 20px 40px rgba(0,0,0,0.45), 0 10px 20px rgba(0,0,0,0.35), inset 0 2px 3px rgba(255,255,255,0.15), 0 0 30px rgba(74, 222, 128, 0.5)":u?"0 12px 25px rgba(0,0,0,0.35), 0 6px 10px rgba(0,0,0,0.25), inset 0 1px 2px rgba(255,255,255,0.12)":"0 10px 20px rgba(0,0,0,0.3), 0 6px 6px rgba(0,0,0,0.2), inset 0 1px 1px rgba(255,255,255,0.1)",rotateX:u?-1:0,rotateY:+!!u,scale:u?1.02:1,y:u?-2:0},transition:{duration:.4,ease:"easeOut",type:"spring",stiffness:300,damping:20},children:[(0,r.jsx)(a.P.div,{className:"absolute inset-0 rounded-2xl",style:{background:"radial-gradient(ellipse at center, rgba(0,0,0,0.3) 0%, rgba(0,0,0,0.1) 60%, transparent 80%)",transform:"translateY(15px) translateZ(-20px) rotateX(90deg)",filter:"blur(15px)",zIndex:-2},animate:{opacity:u?.6:.4,scale:u?1.1:1},transition:{duration:.3}}),s&&(0,r.jsx)(a.P.div,{className:"absolute inset-0 rounded-2xl pointer-events-none",style:{background:"radial-gradient(ellipse at center, rgba(74, 222, 128, 0.1) 0%, transparent 70%)",zIndex:-1},animate:{opacity:[.3,.7,.3],scale:[1,1.02,1]},transition:{duration:3,repeat:1/0,ease:"easeInOut"}}),(0,r.jsx)(a.P.div,{className:"absolute inset-0 pointer-events-none",animate:{y:[0,-1.5,0],rotateZ:[0,.3,0]},transition:{duration:6,repeat:1/0,ease:"easeInOut"}}),(0,r.jsxs)("div",{className:"absolute top-0 left-1/2 transform -translate-x-1/2 -translate-y-1/2",style:{width:"".concat(300*b.scale,"px"),height:"".concat(20*b.scale,"px"),background:"#0f172a",borderRadius:"5px 5px 0 0",display:"flex",justifyContent:"space-between",padding:"0 ".concat(40*b.scale,"px")},children:[(0,r.jsx)("div",{className:"bg-gray-700 rounded-full",style:{width:"".concat(16*b.scale,"px"),height:"".concat(32*b.scale,"px"),transform:"translateY(-".concat(4*b.scale,"px)")}}),(0,r.jsx)("div",{className:"bg-gray-700 rounded-full",style:{width:"".concat(16*b.scale,"px"),height:"".concat(32*b.scale,"px"),transform:"translateY(-".concat(4*b.scale,"px)")}})]}),(0,r.jsx)("div",{className:"absolute bottom-0 left-0 right-0",style:{height:"".concat(96*b.scale,"px"),background:"#0f172a",borderRadius:"0 0 15px 15px",clipPath:"polygon(0 40%, 100% 40%, 100% 100%, 0 100%)"}}),(0,r.jsxs)(a.P.div,{className:"absolute top-1/4 left-1/2 transform -translate-x-1/2 -translate-y-1/4",style:{width:"".concat(b.isMobile?320*b.scale:280*b.scale,"px"),height:"".concat(400*b.scale,"px"),background:"linear-gradient(145deg, #0f172a, #1e293b)",borderRadius:"15px",padding:"".concat(b.isMobile?12*b.scale:15*b.scale,"px"),display:"flex",flexDirection:"column",alignItems:"center",border:"1px solid rgba(255, 255, 255, 0.1)",transformStyle:"preserve-3d"},animate:{boxShadow:s?"inset 0 3px 8px rgba(0,0,0,0.5), inset 0 -1px 2px rgba(255,255,255,0.1), 0 0 20px rgba(74, 222, 128, 0.3)":"inset 0 1px 3px rgba(0,0,0,0.3), inset 0 -1px 1px rgba(255,255,255,0.05)"},transition:{duration:.3,ease:"easeInOut"},children:[(0,r.jsxs)("div",{className:"w-full flex justify-between mb-4",children:[(0,r.jsx)("div",{style:{backgroundColor:t.gridConnected?"#22c55e":"#1e293b",opacity:t.gridConnected?1:.3,boxShadow:t.gridConnected?"0 0 8px #22c55e":"none"},className:"w-6 h-6 rounded-full flex items-center justify-center relative",children:(0,r.jsxs)("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",children:[(0,r.jsx)("rect",{x:"6",y:"8",width:"12",height:"8",stroke:"currentColor",strokeWidth:"1.5",fill:"none"}),(0,r.jsx)("line",{x1:"8",y1:"8",x2:"8",y2:"16",stroke:"currentColor",strokeWidth:"1.5"}),(0,r.jsx)("line",{x1:"12",y1:"8",x2:"12",y2:"16",stroke:"currentColor",strokeWidth:"1.5"}),(0,r.jsx)("line",{x1:"16",y1:"8",x2:"16",y2:"16",stroke:"currentColor",strokeWidth:"1.5"}),(0,r.jsx)("line",{x1:"6",y1:"12",x2:"18",y2:"12",stroke:"currentColor",strokeWidth:"1.5"})]})}),(0,r.jsx)("div",{style:{backgroundColor:t.solarConnected?"#fde047":"#1e293b",opacity:t.solarConnected?1:.3,boxShadow:t.solarConnected?"0 0 8px #fde047":"none"},className:"w-6 h-6 rounded-full flex items-center justify-center relative",children:(0,r.jsxs)("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",children:[(0,r.jsx)("path",{d:"M5 12H19",stroke:"currentColor",strokeWidth:"1.5"}),(0,r.jsx)("path",{d:"M12 5V19",stroke:"currentColor",strokeWidth:"1.5"}),(0,r.jsx)("path",{d:"M5 19L19 5",stroke:"currentColor",strokeWidth:"1.5"})]})}),(0,r.jsx)("div",{style:{backgroundColor:t.batteryConnected?"#38bdf8":"#1e293b",opacity:t.batteryConnected?1:.3,boxShadow:t.batteryConnected?"0 0 8px #38bdf8":"none"},className:"w-6 h-6 rounded-full flex items-center justify-center relative",children:(0,r.jsxs)("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",children:[(0,r.jsx)("rect",{x:"6",y:"7",width:"12",height:"10",stroke:"currentColor",strokeWidth:"1.5",fill:"none"}),(0,r.jsx)("line",{x1:"10",y1:"4",x2:"10",y2:"7",stroke:"currentColor",strokeWidth:"1.5"}),(0,r.jsx)("line",{x1:"14",y1:"4",x2:"14",y2:"7",stroke:"currentColor",strokeWidth:"1.5"}),(0,r.jsx)("line",{x1:"9",y1:"10",x2:"15",y2:"10",stroke:"currentColor",strokeWidth:"1.5"}),(0,r.jsx)("line",{x1:"9",y1:"14",x2:"15",y2:"14",stroke:"currentColor",strokeWidth:"1.5"})]})}),(0,r.jsx)("div",{style:{backgroundColor:t.faultCondition?"#ef4444":"#1e293b",opacity:t.faultCondition?1:.3,boxShadow:t.faultCondition?"0 0 8px #ef4444":"none"},className:"w-6 h-6 rounded-full flex items-center justify-center relative",children:(0,r.jsxs)("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",children:[(0,r.jsx)("path",{d:"M12 4L22 20H2L12 4Z",stroke:"currentColor",strokeWidth:"1.5",fill:"none"}),(0,r.jsx)("line",{x1:"12",y1:"10",x2:"12",y2:"14",stroke:"currentColor",strokeWidth:"1.5"}),(0,r.jsx)("line",{x1:"12",y1:"16",x2:"12",y2:"18",stroke:"currentColor",strokeWidth:"1.5"})]})})]}),(0,r.jsxs)(a.P.div,{className:"w-full ".concat(b.isMobile?"h-[240px]":"h-[280px]"," mb-4 p-2 relative overflow-hidden lcd-screen flex flex-col items-center justify-center"),style:{background:s?"linear-gradient(145deg, #052e16, #064e3b)":"linear-gradient(145deg, #000, #1a1a1a)",borderRadius:"8px",border:"2px solid rgba(255, 255, 255, 0.1)",opacity:s?1:.5,filter:s?"brightness(100%)":"brightness(30%)",visibility:"visible",color:"#10b981",fontFamily:"monospace",transformStyle:"preserve-3d"},animate:{boxShadow:s?"inset 0 6px 16px rgba(0,0,0,0.7), inset 0 -2px 4px rgba(255,255,255,0.1), 0 0 20px rgba(0,255,128,0.4)":"inset 0 2px 6px rgba(0,0,0,0.4), inset 0 -1px 2px rgba(255,255,255,0.05)",transform:s?"translateZ(5px)":"translateZ(0px)"},transition:{duration:.3,ease:"easeInOut"},children:[s&&(0,r.jsx)(a.P.div,{className:"absolute inset-0 rounded-lg pointer-events-none",style:{background:"radial-gradient(ellipse at center, rgba(0, 255, 128, 0.05) 0%, transparent 60%)",zIndex:-1},animate:{opacity:[.4,.8,.4]},transition:{duration:2,repeat:1/0,ease:"easeInOut"}}),h?(0,r.jsxs)("div",{className:"flex flex-col items-center justify-center w-full h-full animate-pulse",children:[(0,r.jsx)("div",{className:"text-emerald-300 text-base mb-6 font-bold",style:{textShadow:"0 0 8px #10b981, 0 0 2px #fff"},children:"POWER INITIALIZING"}),(0,r.jsx)("div",{className:"w-4/5 h-2 bg-emerald-800 rounded-full overflow-hidden mb-4",children:(0,r.jsx)("div",{className:"h-full bg-emerald-400 animate-pulse",style:{width:"100%",boxShadow:"0 0 8px #10b981"}})}),(0,r.jsx)("div",{className:"text-[11px] text-emerald-200 mt-2 font-mono",style:{textShadow:"0 0 4px #10b981"},children:"SYSTEM BOOT SEQUENCE"}),(0,r.jsx)("div",{className:"absolute bottom-8 left-0 right-0 text-[10px] text-emerald-200 font-mono opacity-90",style:{textShadow:"0 0 4px #10b981"},children:(0,r.jsxs)("div",{className:"flex flex-col items-center",children:[(0,r.jsx)("div",{children:"CHECKING HARDWARE..."}),(0,r.jsx)("div",{className:"mt-1",children:"LOADING FIRMWARE v3.2.1"}),(0,r.jsx)("div",{className:"mt-1",children:"INITIALIZING POWER MODULES"})]})})]}):s?(0,r.jsxs)("div",{className:"flex flex-col h-full w-full text-emerald-400 relative",children:[(0,r.jsxs)("div",{className:"w-full flex justify-between mb-2",children:[(0,r.jsxs)("div",{className:"text-xs flex flex-col items-center text-emerald-400",children:[(0,r.jsxs)("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",children:[(0,r.jsx)("circle",{cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"1.5",fill:"none"}),(0,r.jsx)("path",{d:"M8 13C8.5 15 10 16 12 16C14 16 15.5 15 16 13",stroke:"currentColor",strokeWidth:"1.5"}),(0,r.jsx)("circle",{cx:"9",cy:"9",r:"1.5",fill:"currentColor"}),(0,r.jsx)("circle",{cx:"15",cy:"9",r:"1.5",fill:"currentColor"})]}),(0,r.jsx)("span",{className:"text-[10px]",children:"Normal"})]}),(0,r.jsxs)("div",{className:"text-xs flex flex-col items-center text-emerald-400",children:[(0,r.jsxs)("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",children:[(0,r.jsx)("rect",{x:"6",y:"8",width:"12",height:"8",stroke:"currentColor",strokeWidth:"1.5",fill:"none"}),(0,r.jsx)("line",{x1:"8",y1:"8",x2:"8",y2:"16",stroke:"currentColor",strokeWidth:"1.5"}),(0,r.jsx)("line",{x1:"12",y1:"8",x2:"12",y2:"16",stroke:"currentColor",strokeWidth:"1.5"}),(0,r.jsx)("line",{x1:"16",y1:"8",x2:"16",y2:"16",stroke:"currentColor",strokeWidth:"1.5"}),(0,r.jsx)("line",{x1:"6",y1:"12",x2:"18",y2:"12",stroke:"currentColor",strokeWidth:"1.5"})]}),(0,r.jsx)("span",{className:"text-[10px]",children:"PV Mode"})]}),(0,r.jsxs)("div",{className:"text-xs flex flex-col items-center text-emerald-700",children:[(0,r.jsxs)("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",children:[(0,r.jsx)("rect",{x:"8",y:"6",width:"8",height:"12",stroke:"currentColor",strokeWidth:"1.5",fill:"none"}),(0,r.jsx)("line",{x1:"10",y1:"4",x2:"10",y2:"6",stroke:"currentColor",strokeWidth:"1.5"}),(0,r.jsx)("line",{x1:"14",y1:"4",x2:"14",y2:"6",stroke:"currentColor",strokeWidth:"1.5"}),(0,r.jsx)("line",{x1:"10",y1:"9",x2:"14",y2:"9",stroke:"currentColor",strokeWidth:"1.5"})]}),(0,r.jsx)("span",{className:"text-[10px]",children:"Batt. Mode"})]})]}),(0,r.jsxs)("div",{className:"grid grid-cols-2 gap-1 flex-1",children:[(0,r.jsxs)("div",{className:"flex flex-col justify-between",children:[(0,r.jsxs)("div",{className:"mb-1",children:[(0,r.jsx)("div",{className:"text-xs flex items-center",children:"AC INPUT"}),(0,r.jsxs)("div",{className:"flex items-center",children:[(0,r.jsxs)("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",className:"text-emerald-400 mr-1",children:[(0,r.jsx)("path",{d:"M12 3L12 7M12 7L9 7M12 7L15 7",stroke:"currentColor",strokeWidth:"1.5"}),(0,r.jsx)("path",{d:"M5 21L19 21",stroke:"currentColor",strokeWidth:"1.5"}),(0,r.jsx)("path",{d:"M5 7L7 7M17 7L19 7",stroke:"currentColor",strokeWidth:"1.5"}),(0,r.jsx)("path",{d:"M7 7L7 16M17 7L17 16",stroke:"currentColor",strokeWidth:"1.5"}),(0,r.jsx)("path",{d:"M7 11L17 11",stroke:"currentColor",strokeWidth:"1.5"})]}),(0,r.jsxs)("div",{className:"text-2xl font-digital",children:["00",(0,r.jsx)("span",{className:"text-xs ml-1",children:"Hz"})]})]})]}),(0,r.jsxs)("div",{className:"mb-1",children:[(0,r.jsx)("div",{className:"text-xs flex items-center",children:"TOTAL ENERGY"}),(0,r.jsxs)("div",{className:"text-2xl font-digital",children:[x(Math.floor(100*t.totalEnergyGenerated),5),(0,r.jsx)("span",{className:"text-xs ml-1",children:"kWh"})]})]}),(0,r.jsxs)("div",{className:"mb-1",children:[(0,r.jsx)("div",{className:"text-xs flex items-center",children:"PV INPUT"}),(0,r.jsxs)("div",{className:"flex items-center",children:[(0,r.jsxs)("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",className:"text-emerald-400 mr-1",children:[(0,r.jsx)("rect",{x:"6",y:"8",width:"12",height:"8",stroke:"currentColor",strokeWidth:"1.5",fill:"none"}),(0,r.jsx)("line",{x1:"8",y1:"8",x2:"8",y2:"16",stroke:"currentColor",strokeWidth:"1.5"}),(0,r.jsx)("line",{x1:"12",y1:"8",x2:"12",y2:"16",stroke:"currentColor",strokeWidth:"1.5"}),(0,r.jsx)("line",{x1:"16",y1:"8",x2:"16",y2:"16",stroke:"currentColor",strokeWidth:"1.5"}),(0,r.jsx)("line",{x1:"6",y1:"12",x2:"18",y2:"12",stroke:"currentColor",strokeWidth:"1.5"})]}),(0,r.jsxs)("div",{className:"text-2xl font-digital",children:["48",(0,r.jsx)("span",{className:"text-xs ml-1",children:"Vdc"})]})]})]})]}),(0,r.jsxs)("div",{className:"flex flex-col justify-between",children:[(0,r.jsxs)("div",{className:"mb-1",children:[(0,r.jsx)("div",{className:"text-xs flex items-center",children:"AC OUTPUT"}),(0,r.jsxs)("div",{className:"text-2xl font-digital",children:["50",(0,r.jsx)("span",{className:"text-xs ml-1",children:"Hz"})]})]}),(0,r.jsxs)("div",{className:"mb-1",children:[(0,r.jsx)("div",{className:"text-xs",children:"LOAD CAP"}),(0,r.jsxs)("div",{className:"text-2xl font-digital",children:[x(t.loadPercentage,3),(0,r.jsx)("span",{className:"text-xs ml-1",children:"%"})]})]}),(0,r.jsxs)("div",{className:"mb-1",children:[(0,r.jsx)("div",{className:"text-xs flex items-center",children:"BATT CAP"}),(0,r.jsxs)("div",{className:"text-2xl font-digital",children:[x(t.batteryLevel,3),(0,r.jsx)("span",{className:"text-xs ml-1",children:"%"})]})]})]})]}),(0,r.jsxs)("div",{className:"mt-auto mb-1 border-t border-emerald-900/50 pt-1 text-[10px] flex justify-between",children:[(0,r.jsxs)("div",{children:["TEMP: ",x(t.temperature,2),"\xb0C"]}),(0,r.jsxs)("div",{children:["FAN: ",x(t.fanSpeed,3),"%"]}),(0,r.jsx)("div",{children:"GRID MODE"})]}),(0,r.jsx)("div",{className:"h-8 flex-shrink-0"})]}):(0,r.jsx)("div",{className:"flex items-center justify-center w-full h-full text-gray-700",children:"OFF"})]}),(0,r.jsxs)("div",{className:"w-full flex ".concat(b.isMobile?"justify-around":"justify-between"," mt-4"),children:[(0,r.jsxs)("div",{className:"flex flex-col items-center",children:[(0,r.jsx)(a.P.button,{tabIndex:0,className:"".concat(b.isMobile?"w-10 h-10":"w-12 h-12"," relative focus:outline-none"),onClick:()=>{d()},whileHover:{scale:1.05,y:-1},whileTap:{scale:.95,y:1},transition:{type:"spring",stiffness:400,damping:25},children:(0,r.jsx)(a.P.div,{style:{backgroundColor:"#1e293b",border:"2px solid #3b82f6",transformStyle:"preserve-3d"},className:"".concat(b.isMobile?"w-8 h-8":"w-10 h-10"," mx-auto rounded-full flex items-center justify-center"),animate:{boxShadow:["0 0 8px #3b82f6, 0 1px 1px #fff1 inset, 0 4px 8px rgba(0,0,0,0.3)","0 0 12px #3b82f6, 0 1px 1px #fff1 inset, 0 6px 12px rgba(0,0,0,0.4)"]},transition:{duration:2,repeat:1/0,ease:"easeInOut",repeatType:"reverse"},children:(0,r.jsx)("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",children:(0,r.jsx)("path",{d:"M14 6L8 12L14 18",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})})})}),(0,r.jsx)("span",{className:"text-xs text-blue-400 mt-1",children:"CONF"})]}),(0,r.jsxs)("div",{className:"flex flex-col items-center",children:[(0,r.jsx)(a.P.button,{tabIndex:0,className:"".concat(b.isMobile?"w-10 h-10":"w-12 h-12"," relative focus:outline-none"),onClick:()=>{c()},whileHover:{scale:1.05,y:-1},whileTap:{scale:.95,y:1},transition:{type:"spring",stiffness:400,damping:25},children:(0,r.jsx)(a.P.div,{style:{backgroundColor:"#1e293b",border:"2px solid #14b8a6",transformStyle:"preserve-3d"},className:"".concat(b.isMobile?"w-8 h-8":"w-10 h-10"," mx-auto rounded-full flex items-center justify-center"),animate:{boxShadow:["0 0 8px #14b8a6, 0 1px 1px #fff1 inset, 0 4px 8px rgba(0,0,0,0.3)","0 0 12px #14b8a6, 0 1px 1px #fff1 inset, 0 6px 12px rgba(0,0,0,0.4)"]},transition:{duration:2,repeat:1/0,ease:"easeInOut",repeatType:"reverse"},children:(0,r.jsxs)("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",children:[(0,r.jsx)("path",{d:"M19 12H5",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),(0,r.jsx)("path",{d:"M12 5L12 19",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})]})})}),(0,r.jsx)("span",{className:"text-xs text-teal-400 mt-1",children:"SELECT"})]}),(0,r.jsxs)("div",{className:"flex flex-col items-center",children:[(0,r.jsx)(a.P.button,{tabIndex:0,className:"".concat(b.isMobile?"w-10 h-10":"w-12 h-12"," relative focus:outline-none"),onClick:()=>{i(!1)},whileHover:{scale:1.05,y:-1},whileTap:{scale:.95,y:2},transition:{type:"spring",stiffness:400,damping:25},children:(0,r.jsx)(a.P.div,{style:{backgroundColor:"#1e293b",border:"2px solid #ef4444",transformStyle:"preserve-3d"},className:"".concat(b.isMobile?"w-8 h-8":"w-10 h-10"," mx-auto rounded-full flex items-center justify-center"),animate:{boxShadow:["0 0 10px #ef4444, 0 1px 1px #fff1 inset, 0 4px 8px rgba(0,0,0,0.3)","0 0 15px #ef4444, 0 1px 1px #fff1 inset, 0 6px 12px rgba(0,0,0,0.4)"],y:[1,0]},transition:{duration:2,repeat:1/0,ease:"easeInOut",repeatType:"reverse"},children:(0,r.jsx)("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",children:(0,r.jsx)("path",{d:"M18 6L6 18M6 6L18 18",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})})})}),(0,r.jsx)("span",{className:"text-xs mt-1 text-red-400 font-medium",children:"STOP"})]}),(0,r.jsxs)("div",{className:"flex flex-col items-center relative",children:[!s&&(0,r.jsxs)("div",{className:"absolute -top-20 left-1/2 -translate-x-1/2 flex flex-col items-center z-20 animate-bounce",children:[(0,r.jsxs)("div",{className:"bg-emerald-700 text-white text-xs px-3 py-2 rounded shadow-lg mb-1 font-semibold",children:["Click ",(0,r.jsx)("span",{className:"font-bold",children:"START"})," to begin the simulation"]}),(0,r.jsxs)("svg",{width:"32",height:"24",viewBox:"0 0 32 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,r.jsx)("path",{d:"M16 0V18",stroke:"#059669",strokeWidth:"3",strokeLinecap:"round"}),(0,r.jsx)("path",{d:"M8 10L16 18L24 10",stroke:"#059669",strokeWidth:"3",strokeLinecap:"round"})]})]}),(0,r.jsx)(a.P.button,{className:"".concat(b.isMobile?"w-10 h-10":"w-12 h-12"," relative focus:outline-none"),tabIndex:0,onClick:()=>{p(!0),setTimeout(()=>{p(!1),i(!0)},2e3)},whileHover:{scale:1.08,y:-2},whileTap:{scale:.92,y:1},transition:{type:"spring",stiffness:400,damping:25},children:(0,r.jsx)(a.P.div,{style:{backgroundColor:"#1e293b",border:"2px solid #22c55e",transformStyle:"preserve-3d"},className:"".concat(b.isMobile?"w-8 h-8":"w-10 h-10"," mx-auto rounded-full flex items-center justify-center"),animate:{boxShadow:["0 0 10px #22c55e, 0 1px 1px #fff1 inset, 0 0 10px #10b98155 inset, 0 4px 8px rgba(0,0,0,0.3)","0 0 15px #22c55e, 0 1px 1px #fff1 inset, 0 0 15px #10b98155 inset, 0 6px 12px rgba(0,0,0,0.4)"],scale:[1,1.02]},transition:{duration:2,repeat:1/0,ease:"easeInOut",repeatType:"reverse"},children:(0,r.jsxs)("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",children:[(0,r.jsx)("path",{d:"M7 17L17 7",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),(0,r.jsx)("path",{d:"M7 7H17V17",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})]})})}),(0,r.jsx)("span",{className:"text-xs mt-1 text-emerald-400 font-medium",children:"START"})]})]})]})]})}function i(e){let{inverterOn:t,state:s,setState:r}=e,a=(0,n.useMemo)(()=>s.loadPercentage/100,[s.loadPercentage]),o=(0,n.useMemo)(()=>s.fanSpeed/100,[s.fanSpeed]),l=(0,n.useCallback)((e,t)=>{let s=1.5*a,r=2.5*o;return e<t?Math.min(e+s,t):Math.max(e-r,t)},[a,o]),i=(0,n.useCallback)(e=>e>65?100:e>55?80+Math.round(5*Math.random()):e>45?60+Math.round(5*Math.random()):e>40?40+Math.round(5*Math.random()):20+Math.round(5*Math.random()),[]),d=(0,n.useCallback)(e=>{r(t=>({...t,...e}))},[r]);return(0,n.useEffect)(()=>{if(!t){let e=setInterval(()=>{d({temperature:Math.max(s.temperature-(s.temperature-35)/10,35)})},1e3);return()=>clearInterval(e)}let e=setInterval(()=>{if(t){let e=2*Math.random()-1,r=l(s.temperature,35+30*a+e),n=i(r);if(d({temperature:r,fanSpeed:n}),s.solarConnected&&"pv"===s.mode){let e=.001*(1+(.2*Math.random()-.1));d({totalEnergyGenerated:s.totalEnergyGenerated+e})}if(s.batteryConnected){if(s.solarConnected&&s.loadPercentage<80){let e=.01*(1-s.batteryLevel/150);d({batteryCharging:!0,batteryLevel:Math.min(s.batteryLevel+e,100)})}else if(s.loadPercentage>0){let e=.02*(s.loadPercentage/50);d({batteryCharging:!1,batteryLevel:Math.max(s.batteryLevel-e,0)}),s.batteryLevel<10&&!s.faultCondition&&"battery"===s.mode&&(d({faultCondition:!0}),setTimeout(()=>d({faultCondition:!1}),5e3))}else d({batteryCharging:!1})}"normal"===s.mode&&s.gridConnected?d({inputFrequency:49.8+.4*Math.random()}):("pv"===s.mode&&s.solarConnected,d({inputFrequency:0})),t&&s.outputFrequency>0&&d({outputFrequency:49.9+.2*Math.random()}),t&&.001>Math.random()&&!s.faultCondition&&(d({faultCondition:!0}),setTimeout(()=>d({faultCondition:!1}),3e3))}},1e3);return()=>clearInterval(e)},[t,s,a,o,l,i,d]),null}function d(e){let{position:t,inverterOn:s,onInverterChange:o,gridConnected:d=!1,solarConnected:c=!1,batteryConnected:x=!1,loadPercentage:h=0,efficiency:p=97,inputVoltage:u=48,outputVoltage:m=230,frequency:f=50,batteryLevel:b=80,batteryCharging:g=!1,totalEnergyGenerated:y=23.5,temperature:j=45,fanSpeed:v=40,mode:k="normal",scale:C=.35}=e,[w,N]=(0,n.useState)({gridConnected:d,solarConnected:c,batteryConnected:x,temperature:j,loadPercentage:h,efficiency:p,inputVoltage:u,outputVoltage:m,inputFrequency:0,outputFrequency:f,batteryLevel:b,batteryCharging:g,totalEnergyGenerated:y,fanSpeed:v,mode:k,selectedMode:"normal"===k?0:"pv"===k?1:2,faultCondition:!1,screenActive:!1,configMode:!1,displayOption:0,screenBrightness:1,bootupPhase:3,hovered:!1,showActivatePrompt:!s}),M=(0,n.useRef)(null),L=(0,n.useRef)(null),W=400*C,S=590*C,P=12*C,I=2*C;(0,n.useCallback)(()=>{let e=!s;o(e),e?(w.screenActive||(N(e=>({...e,screenActive:!0,bootupPhase:1})),setTimeout(()=>N(e=>({...e,screenBrightness:.3})),200),setTimeout(()=>N(e=>({...e,bootupPhase:2,screenBrightness:.6})),800),setTimeout(()=>N(e=>({...e,bootupPhase:3,screenBrightness:1})),1500)),setTimeout(()=>N(e=>({...e,loadPercentage:h||0})),500),setTimeout(()=>N(e=>({...e,fanSpeed:20})),1e3),setTimeout(()=>N(e=>({...e,outputFrequency:f||50})),1500),"pv"===w.mode?N(e=>({...e,solarConnected:!0,batteryConnected:!0,gridConnected:!1})):"normal"===w.mode?N(e=>({...e,gridConnected:!0,solarConnected:!1})):"battery"===w.mode&&N(e=>({...e,batteryConnected:!0,gridConnected:!1,solarConnected:!1}))):N(e=>({...e,loadPercentage:0,fanSpeed:0,outputFrequency:0,inputFrequency:0,screenActive:!1,screenBrightness:0}))},[s,h,f,o,w.mode,w.screenActive]);let T=(0,n.useCallback)(()=>{let e=["normal","pv","battery"],t=(w.selectedMode+1)%3;N(s=>({...s,selectedMode:t,mode:e[t]}))},[w.selectedMode]),E=(0,n.useCallback)(()=>{N(e=>({...e,displayOption:(e.displayOption+1)%3}))},[]);return(0,n.useEffect)(()=>{s?"pv"===w.mode?N(e=>({...e,solarConnected:!0,batteryConnected:!0,gridConnected:!1})):"normal"===w.mode?N(e=>({...e,gridConnected:!0,solarConnected:!1,batteryConnected:!1})):"battery"===w.mode&&N(e=>({...e,batteryConnected:!0,gridConnected:!1,solarConnected:!1})):N(e=>({...e,gridConnected:!1,solarConnected:!1,batteryConnected:!1}))},[s,w.mode]),(0,r.jsx)("div",{ref:M,"data-node-id":"inverter",className:"absolute",style:{left:"".concat(t.x,"px"),top:"".concat(t.y,"px"),transform:"translate(-50%, -50%)",width:"".concat(W,"px"),height:"".concat(S,"px"),maxHeight:"100%"},children:(0,r.jsxs)(a.P.div,{className:"relative w-full h-full",style:{transform:"scale(".concat(C,")"),transformOrigin:"center center",overflow:"visible",zIndex:1},onMouseEnter:()=>N(e=>({...e,hovered:!0})),onMouseLeave:()=>N(e=>({...e,hovered:!1})),children:[(0,r.jsx)(l,{state:w,inverterOn:s,scale:C,onInverterChange:o,onCycleMode:T,onCycleDisplayOption:E}),(0,r.jsx)(i,{inverterOn:s,state:w,setState:N}),(0,r.jsx)("div",{ref:L,className:"absolute bottom-0 left-1/2 transform -translate-x-1/2",style:{width:"".concat(P,"px"),height:"".concat(P,"px"),bottom:"".concat(I,"px"),background:"#1e293b",borderRadius:"50%",border:"2px solid #0f172a"}})]})})}}}]);